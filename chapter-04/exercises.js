////////////////////////////////////////////////////////////////////////////////
// range ///////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

function range(start, end, step) {
  var result = [];


  if (start === end){
    return result;
  }


  if (step ==  null) {
    step =  start < end ? 1 : -1;
  }

  if ((step > 0 &&  start > end) ||  (step < 0 && start < end)) {
    return result;
  }

  if  (step >  0) {
    for (var i = start; i <= end; i += step) {
      result.push(i);
    }
  } else {
  
    for (var j = start; j >= end;  j += step) {
      result.push(j);
    }
  }

  return result;
}
////////////////////////////////////////////////////////////////////////////////
// sum /////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

function sum(array) {
  
  let total = 0;

  for (let i = 0;  i < array.length;  i++ ){
  
    total += array[i];
  }

  return total;
}

////////////////////////////////////////////////////////////////////////////////
// reverseArray ////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
function reverseArray(array){
  let result = [];

  for (let x = array.length - 1; x >= 0; x--) {
  
    result.push(array[x]);
  }


  return result;
}

////////////////////////////////////////////////////////////////////////////////
// reverseArrayInPlace /////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

function reverseArrayInPlace(array) {
  let half = Math.floor(array.length / 2);

  for (let x = 0; x < half;  x++) {
    let temp = array[x];
	
    array[x] = array[array.length - 1 - x];
	
    array[array.length - 1 - x] = temp;
  }

  return array; 
}

////////////////////////////////////////////////////////////////////////////////
// arrayToList /////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

function arrayToList(array) {
  let list = null;

  for (let i = array.length - 1; i >= 0; i--) {
    list = {
      value: array[i],
      rest: list
    };
  }

  return list;
}

////////////////////////////////////////////////////////////////////////////////
// listToArray /////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

function listToArray(list) {
  let array = [];


  for (let  node = list; node  !== null; node =  node.rest) {
    array.push(node.value);
  }


  return array;
}

////////////////////////////////////////////////////////////////////////////////
// prepend /////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

function prepend(value, list) {
  return {
    value: value,
    rest: list
  };
}

////////////////////////////////////////////////////////////////////////////////
// nth /////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

function nth(list, index) {
   // base
     if (list === null) return undefined;
     if (index === 0) return list.value;
  
   //recursion
    return nth( list.rest,  index - 1);
  }

////////////////////////////////////////////////////////////////////////////////
// deepEqual ///////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

function deepEqual(x, y) {

  if (x === y) return true;

  if (x === null || y === null || typeof x !== "object" || typeof y !== "object") {
  return false;
  }


  const xKeys  = Object.keys(x);
  const yKeys  = Object.keys(y);


  if (xKeys.length !== yKeys.length)  return false;

  for (let key of xKeys) {
  if (!yKeys.includes(key) ||  !deepEqual(x[key], y[key])) {
    return false;
  }
  }

  return true;
}

////////////////////////////////////////////////////////////////////////////////
// DON'T REMOVE THIS CODE //////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

if ((typeof process !== 'undefined') &&
  (typeof process.versions.node !== 'undefined')) {
  module.exports = {
    range,
    sum,
    reverseArray,
    reverseArrayInPlace,
    arrayToList,
    listToArray,
    prepend,
    nth,
    deepEqual,
  };
};